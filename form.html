<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }

    body {
      background-color: #121212;
      color: #ffffff;
      overflow-x: hidden;
    }

    header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.6rem 1.5rem;
      background-color: #1a1a1a;
    }

    .logo-container {
      background: white;
      border-radius: 8px;
      padding: 4px;
    }

    .logo-container img {
      height: 40px;
      width: auto;
    }

    h1 {
      font-size: 1.2rem;
    }

    main {
      position: relative;
      z-index: 1;
      padding: 2rem;
      min-height: 100vh;
    }

    main::before {
      content: "";
      background-image: url('python-blog-image.jpg');
      background-size: cover;
      background-position: center;
      position: absolute;
      inset: 0;
      z-index: -2;
      opacity: 0.25;
      filter: brightness(0.6);
    }

    main::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.9) 100%);
      z-index: -1;
    }

    .form-container {
      max-width: 600px;
      margin: 0 auto;
      background-color: rgba(0,0,0,0.6);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }

    .form-container h2 {
      margin-bottom: 1.5rem;
      text-align: center;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
    }

    input {
      width: 100%;
      padding: 0.8rem;
      margin-bottom: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #222;
      color: white;
    }

    input[readonly] {
      background-color: #444;
      cursor: not-allowed;
    }

    button {
      width: 100%;
      padding: 0.8rem;
      border: none;
      border-radius: 8px;
      background-color: #4fc3f7;
      color: #000;
      font-weight: bold;
      cursor: pointer;
    }

    button:disabled {
      background-color: #999;
      cursor: not-allowed;
    }

    footer {
      background-color: #1a1a1a;
      color: white;
      padding: 2rem;
      text-align: center;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1rem;
      text-align: left;
    }

    .footer-section h4 {
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
      font-size: 0.8rem;
    }

    .footer-section li {
      margin-bottom: 4px;
    }

    .footer-section a {
      color: #ccc;
      text-decoration: none;
      font-size: 0.8rem;
    }

    .footer-divider {
      height: 1px;
      background: #444;
      margin: 1rem 0;
      opacity: 0.4;
    }

    .footer-bottom {
      font-size: 0.75rem;
      text-align: center;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="logo-512x512-1.png" alt="DAV Logo">
    </div>
    <h1>D.A.V. College Jalandhar</h1>
  </header>

  <main>
    <div class="form-container">
      <h2>Attendance Form</h2>
      <form id="attendanceForm">
        <label for="code">Unique Code</label>
        <input type="text" id="code" required>

        <label for="roll">Roll Number</label>
        <input type="text" id="roll" required>

        <label for="name">Name</label>
        <input type="text" id="name" readonly>

        <label>
          <input type="checkbox" id="confirm"> I confirm that I am present
        </label>

        <button type="submit" disabled>Submit</button>
        <p id="status" style="margin-top:1rem; color: #f44336;"></p>
      </form>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#">Attendance Policy</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Social Media</h4>
        <ul>
          <li><a href="https://www.youtube.com/@nischaybahl7714" target="_blank">YouTube</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Contact</h4>
        <ul>
          <li><a href="mailto:bca25.28.dav@gmail.com">bca25.28.dav@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Address</h4>
        <ul>
          <li>D.A.V. College, Mahatma Hansraj Marg,<br>Jalandhar, Punjab – 144008, India</li>
        </ul>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-bottom">
      © 2025 | Credits: Prabhsimranjot Singh, BCA (FCA-1)
    </div>
  </footer>

  <script>
    const students = {
"01","CHIRAG RANA"
"02","SHARANJIT SINGH"
"03","ANEESH KUMAR"
"04","JATINVEER"
"05","SOHAN KUMAR"
"06","TUSHAR"
"07","VANSH SHARMA"
"08"," SAGAR KUMAR MANDAL"
"09","MEHAK"
"10","MANREET KAUR"
"11","ARUSHI"
"12","MANNAT"
"13","SURAJ SINGH"
"14","DIPANKAR"
"15","SNEHA"
"16","NAVJOT KAUR"
"17","ADITYA SHARMA"
"18","ROHAN"
"19","DAMANJEET"
"20","SHIVAM PANDEY"
"21","NITIN"
"22","NIKHIL"
"23","AARUSHI MALHOTRA"
"24","ANKIT KUMAR"
"25","EKAMJEET KAUR KALRA"
"26","SHIVAM"
"27","PRABHSIMRANJOT SINGH"
"28","SUMANT SHARMA"
"29","HARSHIT"
"30","NAMPREET SINGH"
"31","TANUSH"
"32","PARTH AULUCK"
"33","TANISH JAIN"
"34","PALAK BHARDWAJ"
"35","AKASH DEEP"
"36","AYUSH KUMAR"
"37","LAKSH"
"38","JASHAN ARORA"
"39","KRISHAN SINGH"
"40","KULWINDER KAUR"
"41","DAKSH CHAUHAN"
"42","DIWAKAR"
"43","SARUCHI SHARMA"
"44","AMRITPAL SINGH"
"45","GLORY"
"46","SIMRAN"
"47","MANIK"
"48","OM TALWAR"
"49","NITIN KUMARN BASRA"
"50","KHUSHI"
"51","KUNAL BHAGAT"
"52","JATIN GILHOTRA"
"53","LAKSH KALIA"
"54","LAKSHAY JOSHI"
"55","MAANSHU DUBEY"
"56","PREET LOI"
"57","KARAN SINGH"
"58","VIBHOR JAIN"
"59","UTKARSHA RAJ SINGH"
"60","MEHAK"
"61","NIKHIL"
      // Add more if needed
    };

    const form = document.getElementById("attendanceForm");
    const codeInput = document.getElementById("code");
    const rollInput = document.getElementById("roll");
    const nameInput = document.getElementById("name");
    const checkbox = document.getElementById("confirm");
    const submitBtn = form.querySelector("button");
    const status = document.getElementById("status");

    function getTodayCode() {
      const today = new Date();
      const code = (today.getDate() * 7 + (today.getMonth() + 1)) % 1000;
      return code.toString().padStart(3, '0');
    }

    function isWithinTimeWindow() {
      const now = new Date();
      const start = new Date(now);
      const end = new Date(now);
      start.setHours(19, 30, 0);
      end.setHours(20, 15, 0);
      return now >= start && now <= end;
    }

    function validateForm() {
      const roll = rollInput.value.trim();
      const code = codeInput.value.trim();
      const correctCode = getTodayCode();
      nameInput.value = students[roll] || "";

      const valid = isWithinTimeWindow() && checkbox.checked && code === correctCode && students.hasOwnProperty(roll);
      submitBtn.disabled = !valid;

      if (!isWithinTimeWindow()) {
        status.textContent = "Attendance is only open from 1:30 PM to 2:15 PM IST.";
      } else if (code !== correctCode) {
        status.textContent = "Invalid unique code.";
      } else if (!students.hasOwnProperty(roll)) {
        status.textContent = "Invalid roll number.";
      } else if (!checkbox.checked) {
        status.textContent = "Please confirm your presence.";
      } else {
        status.textContent = "";
      }
    }

    codeInput.addEventListener("input", validateForm);
    rollInput.addEventListener("input", validateForm);
    checkbox.addEventListener("change", validateForm);

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      alert("Attendance submitted for: " + rollInput.value);
      // You will later send this to backend or email logic
    });
  </script>
</body>
</html>
